/*!
 * CodeMirror Add-ons
 * https://codemirror.net
 * Copyright (c) by Marijn Haverbeke and others
 * Distributed under an MIT license: https://codemirror.net/LICENSE
 */
(function(t){t(CodeMirror)})(function(t){"use strict";function e(t,e){if(!t.hasOwnProperty(e))throw new Error("Undefined state "+e+" in simple mode")}function n(t,e){if(!t)return/(?:)/;var n="";return t instanceof RegExp?(t.ignoreCase&&(n="i"),t=t.source):t=String(t),new RegExp((!1===e?"":"^")+"(?:"+t+")",n)}function a(t){if(!t)return null;if(t.apply)return t;if("string"==typeof t)return t.replace(/\./g," ");for(var e=[],n=0;n<t.length;n++)e.push(t[n]&&t[n].replace(/\./g," "));return e}function r(t,r){(t.next||t.push)&&e(r,t.next||t.push),this.regex=n(t.regex),this.token=a(t.token),this.data=t}function o(t,e){return function(n,a){if(a.pending){var r=a.pending.shift();return 0==a.pending.length&&(a.pending=null),n.pos+=r.text.length,r.token}if(a.local){if(a.local.end&&n.match(a.local.end)){var o=a.local.endToken||null;return a.local=a.localState=null,o}var l;o=a.local.mode.token(n,a.localState);return a.local.endScan&&(l=a.local.endScan.exec(n.current()))&&(n.pos=n.start+l.index),o}for(var s=t[a.state],d=0;d<s.length;d++){var c=s[d],u=(!c.data.sol||n.sol())&&n.match(c.regex);if(u){c.data.next?a.state=c.data.next:c.data.push?((a.stack||(a.stack=[])).push(a.state),a.state=c.data.push):c.data.pop&&a.stack&&a.stack.length&&(a.state=a.stack.pop()),c.data.mode&&i(e,a,c.data.mode,c.token),c.data.indent&&a.indent.push(n.indentation()+e.indentUnit),c.data.dedent&&a.indent.pop();var p=c.token;if(p&&p.apply&&(p=p(u)),u.length>2&&c.token&&"string"!=typeof c.token){a.pending=[];for(var f=2;f<u.length;f++)u[f]&&a.pending.push({text:u[f],token:c.token[f-1]});return n.backUp(u[0].length-(u[1]?u[1].length:0)),p[0]}return p&&p.join?p[0]:p}}return n.next(),null}}function l(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=0;for(var a in t)if(t.hasOwnProperty(a)){if(!e.hasOwnProperty(a)||!l(t[a],e[a]))return!1;n++}for(var a in e)e.hasOwnProperty(a)&&n--;return 0==n}function i(e,a,r,o){var i;if(r.persistent)for(var s=a.persistentStates;s&&!i;s=s.next)(r.spec?l(r.spec,s.spec):r.mode==s.mode)&&(i=s);var d=i?i.mode:r.mode||t.getMode(e,r.spec),c=i?i.state:t.startState(d);r.persistent&&!i&&(a.persistentStates={mode:d,spec:r.spec,state:c,next:a.persistentStates}),a.localState=c,a.local={mode:d,end:r.end&&n(r.end),endScan:r.end&&!1!==r.forceEnd&&n(r.end,!1),endToken:o&&o.join?o[o.length-1]:o}}function s(t,e){for(var n=0;n<e.length;n++)if(e[n]===t)return!0}function d(e,n){return function(a,r,o){if(a.local&&a.local.mode.indent)return a.local.mode.indent(a.localState,r,o);if(null==a.indent||a.local||n.dontIndentStates&&s(a.state,n.dontIndentStates)>-1)return t.Pass;var l=a.indent.length-1,i=e[a.state];t:for(;;){for(var d=0;d<i.length;d++){var c=i[d];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var u=c.regex.exec(r);if(u&&u[0]){l--,(c.next||c.push)&&(i=e[c.next||c.push]),r=r.slice(u[0].length);continue t}}}break}return l<0?0:a.indent[l]}}t.defineSimpleMode=function(e,n){t.defineMode(e,function(e){return t.simpleMode(e,n)})},t.simpleMode=function(n,a){e(a,"start");var l={},i=a.meta||{},s=!1;for(var c in a)if(c!=i&&a.hasOwnProperty(c))for(var u=l[c]=[],p=a[c],f=0;f<p.length;f++){var h=p[f];u.push(new r(h,a)),(h.indent||h.dedent)&&(s=!0)}var g={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:s?[]:null}},copyState:function(e){var n={state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&&e.indent.slice(0)};e.localState&&(n.localState=t.copyState(e.local.mode,e.localState)),e.stack&&(n.stack=e.stack.slice(0));for(var a=e.persistentStates;a;a=a.next)n.persistentStates={mode:a.mode,spec:a.spec,state:a.state==e.localState?n.localState:t.copyState(a.mode,a.state),next:n.persistentStates};return n},token:o(l,n),innerMode:function(t){return t.local&&{mode:t.local.mode,state:t.localState}},indent:d(l,i)};if(i)for(var S in i)i.hasOwnProperty(S)&&(g[S]=i[S]);return g}});